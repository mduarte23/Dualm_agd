{"ast":null,"code":"import axios from 'axios';\nimport authService from './authService';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || '';\nfunction ensureDomain() {\n  const client = authService.getCurrentClient();\n  const domain = client === null || client === void 0 ? void 0 : client.dominio;\n  if (!domain) throw new Error('Domínio não definido. Faça login novamente.');\n  return domain;\n}\nasync function list() {\n  const dominio = ensureDomain();\n  const res = await axios.get(`${API_BASE_URL}/convenios`, {\n    params: {\n      dominio\n    }\n  });\n  const payload = res.data || {};\n  if (!payload.success) throw new Error(payload.message || 'Erro ao buscar convênios');\n  return payload.data || [];\n}\nconst conveniosService = {\n  list\n};\nexport default conveniosService;\nexport async function create(nome_convenio) {\n  const dominio = ensureDomain();\n  const res = await axios.post(`${API_BASE_URL}/convenios`, {\n    dominio,\n    nome_convenio\n  });\n  const payload = res.data || {};\n  if (!payload.success) throw new Error(payload.message || 'Erro ao criar convênio');\n  return payload.data;\n}\nexport async function update(id, nome_convenio) {\n  const dominio = ensureDomain();\n  const res = await axios.put(`${API_BASE_URL}/convenios/${id}`, {\n    dominio,\n    nome_convenio\n  });\n  const payload = res.data || {};\n  if (!payload.success) throw new Error(payload.message || 'Erro ao atualizar convênio');\n  return true;\n}\nexport async function remove(id) {\n  const dominio = ensureDomain();\n  const res = await axios.delete(`${API_BASE_URL}/convenios/${id}`, {\n    params: {\n      dominio\n    }\n  });\n  const payload = res.data || {};\n  if (!payload.success) throw new Error(payload.message || 'Erro ao excluir convênio');\n  return true;\n}","map":{"version":3,"names":["axios","authService","API_BASE_URL","process","env","REACT_APP_API_URL","ensureDomain","client","getCurrentClient","domain","dominio","Error","list","res","get","params","payload","data","success","message","conveniosService","create","nome_convenio","post","update","id","put","remove","delete"],"sources":["C:/Users/mduarte/Desktop/Projetos/Dualm_agd/site/src/services/conveniosService.js"],"sourcesContent":["import axios from 'axios';\r\nimport authService from './authService';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || '';\r\n\r\nfunction ensureDomain() {\r\n  const client = authService.getCurrentClient();\r\n  const domain = client?.dominio;\r\n  if (!domain) throw new Error('Domínio não definido. Faça login novamente.');\r\n  return domain;\r\n}\r\n\r\nasync function list() {\r\n  const dominio = ensureDomain();\r\n  const res = await axios.get(`${API_BASE_URL}/convenios`, { params: { dominio } });\r\n  const payload = res.data || {};\r\n  if (!payload.success) throw new Error(payload.message || 'Erro ao buscar convênios');\r\n  return payload.data || [];\r\n}\r\n\r\nconst conveniosService = { list };\r\nexport default conveniosService;\r\n\r\nexport async function create(nome_convenio) {\r\n  const dominio = ensureDomain();\r\n  const res = await axios.post(`${API_BASE_URL}/convenios`, { dominio, nome_convenio });\r\n  const payload = res.data || {};\r\n  if (!payload.success) throw new Error(payload.message || 'Erro ao criar convênio');\r\n  return payload.data;\r\n}\r\n\r\nexport async function update(id, nome_convenio) {\r\n  const dominio = ensureDomain();\r\n  const res = await axios.put(`${API_BASE_URL}/convenios/${id}`, { dominio, nome_convenio });\r\n  const payload = res.data || {};\r\n  if (!payload.success) throw new Error(payload.message || 'Erro ao atualizar convênio');\r\n  return true;\r\n}\r\n\r\nexport async function remove(id) {\r\n  const dominio = ensureDomain();\r\n  const res = await axios.delete(`${API_BASE_URL}/convenios/${id}`, { params: { dominio } });\r\n  const payload = res.data || {};\r\n  if (!payload.success) throw new Error(payload.message || 'Erro ao excluir convênio');\r\n  return true;\r\n}\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,eAAe;AAEvC,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,EAAE;AAExD,SAASC,YAAYA,CAAA,EAAG;EACtB,MAAMC,MAAM,GAAGN,WAAW,CAACO,gBAAgB,CAAC,CAAC;EAC7C,MAAMC,MAAM,GAAGF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,OAAO;EAC9B,IAAI,CAACD,MAAM,EAAE,MAAM,IAAIE,KAAK,CAAC,6CAA6C,CAAC;EAC3E,OAAOF,MAAM;AACf;AAEA,eAAeG,IAAIA,CAAA,EAAG;EACpB,MAAMF,OAAO,GAAGJ,YAAY,CAAC,CAAC;EAC9B,MAAMO,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAC,GAAGZ,YAAY,YAAY,EAAE;IAAEa,MAAM,EAAE;MAAEL;IAAQ;EAAE,CAAC,CAAC;EACjF,MAAMM,OAAO,GAAGH,GAAG,CAACI,IAAI,IAAI,CAAC,CAAC;EAC9B,IAAI,CAACD,OAAO,CAACE,OAAO,EAAE,MAAM,IAAIP,KAAK,CAACK,OAAO,CAACG,OAAO,IAAI,0BAA0B,CAAC;EACpF,OAAOH,OAAO,CAACC,IAAI,IAAI,EAAE;AAC3B;AAEA,MAAMG,gBAAgB,GAAG;EAAER;AAAK,CAAC;AACjC,eAAeQ,gBAAgB;AAE/B,OAAO,eAAeC,MAAMA,CAACC,aAAa,EAAE;EAC1C,MAAMZ,OAAO,GAAGJ,YAAY,CAAC,CAAC;EAC9B,MAAMO,GAAG,GAAG,MAAMb,KAAK,CAACuB,IAAI,CAAC,GAAGrB,YAAY,YAAY,EAAE;IAAEQ,OAAO;IAAEY;EAAc,CAAC,CAAC;EACrF,MAAMN,OAAO,GAAGH,GAAG,CAACI,IAAI,IAAI,CAAC,CAAC;EAC9B,IAAI,CAACD,OAAO,CAACE,OAAO,EAAE,MAAM,IAAIP,KAAK,CAACK,OAAO,CAACG,OAAO,IAAI,wBAAwB,CAAC;EAClF,OAAOH,OAAO,CAACC,IAAI;AACrB;AAEA,OAAO,eAAeO,MAAMA,CAACC,EAAE,EAAEH,aAAa,EAAE;EAC9C,MAAMZ,OAAO,GAAGJ,YAAY,CAAC,CAAC;EAC9B,MAAMO,GAAG,GAAG,MAAMb,KAAK,CAAC0B,GAAG,CAAC,GAAGxB,YAAY,cAAcuB,EAAE,EAAE,EAAE;IAAEf,OAAO;IAAEY;EAAc,CAAC,CAAC;EAC1F,MAAMN,OAAO,GAAGH,GAAG,CAACI,IAAI,IAAI,CAAC,CAAC;EAC9B,IAAI,CAACD,OAAO,CAACE,OAAO,EAAE,MAAM,IAAIP,KAAK,CAACK,OAAO,CAACG,OAAO,IAAI,4BAA4B,CAAC;EACtF,OAAO,IAAI;AACb;AAEA,OAAO,eAAeQ,MAAMA,CAACF,EAAE,EAAE;EAC/B,MAAMf,OAAO,GAAGJ,YAAY,CAAC,CAAC;EAC9B,MAAMO,GAAG,GAAG,MAAMb,KAAK,CAAC4B,MAAM,CAAC,GAAG1B,YAAY,cAAcuB,EAAE,EAAE,EAAE;IAAEV,MAAM,EAAE;MAAEL;IAAQ;EAAE,CAAC,CAAC;EAC1F,MAAMM,OAAO,GAAGH,GAAG,CAACI,IAAI,IAAI,CAAC,CAAC;EAC9B,IAAI,CAACD,OAAO,CAACE,OAAO,EAAE,MAAM,IAAIP,KAAK,CAACK,OAAO,CAACG,OAAO,IAAI,0BAA0B,CAAC;EACpF,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}