{"ast":null,"code":"import axios from 'axios';\nimport authService from './authService';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || '';\nconst usuariosService = {\n  async list() {\n    var _authService$getCurre;\n    const dominio = (_authService$getCurre = authService.getCurrentClient()) === null || _authService$getCurre === void 0 ? void 0 : _authService$getCurre.dominio;\n    const response = await axios.get(`${API_BASE_URL}/usuarios`, {\n      params: {\n        dominio\n      }\n    });\n    const data = response.data || {};\n    if (!data.success) throw new Error(data.message || 'Falha ao listar usuários');\n    return data.usuarios || [];\n  },\n  async create({\n    nome,\n    email,\n    senha,\n    nivel,\n    id_especialista\n  }) {\n    var _authService$getCurre2;\n    const dominio = (_authService$getCurre2 = authService.getCurrentClient()) === null || _authService$getCurre2 === void 0 ? void 0 : _authService$getCurre2.dominio;\n    const payload = {\n      dominio,\n      nome_usuario: nome,\n      email,\n      senha,\n      nivel\n    };\n    if (id_especialista) payload.id_especialista = id_especialista;\n    const response = await axios.post(`${API_BASE_URL}/usuarios`, payload);\n    const data = response.data || {};\n    if (!data.success) throw new Error(data.message || 'Falha ao criar usuário');\n    return data.usuario;\n  },\n  async update(id, {\n    nome,\n    email,\n    senha,\n    nivel,\n    id_especialista\n  }) {\n    var _authService$getCurre3;\n    const dominio = (_authService$getCurre3 = authService.getCurrentClient()) === null || _authService$getCurre3 === void 0 ? void 0 : _authService$getCurre3.dominio;\n    const payload = {\n      dominio,\n      nome_usuario: nome,\n      email,\n      senha,\n      nivel\n    };\n    if (id_especialista !== undefined) payload.id_especialista = id_especialista;\n    const response = await axios.put(`${API_BASE_URL}/usuarios/${id}`, payload);\n    const data = response.data || {};\n    if (!data.success) throw new Error(data.message || 'Falha ao atualizar usuário');\n    return data.usuario;\n  },\n  async remove(id) {\n    var _authService$getCurre4;\n    const dominio = (_authService$getCurre4 = authService.getCurrentClient()) === null || _authService$getCurre4 === void 0 ? void 0 : _authService$getCurre4.dominio;\n    const response = await axios.delete(`${API_BASE_URL}/usuarios/${id}`, {\n      params: {\n        dominio\n      }\n    });\n    const data = response.data || {};\n    if (!data.success) throw new Error(data.message || 'Falha ao remover usuário');\n    return true;\n  }\n};\nexport default usuariosService;","map":{"version":3,"names":["axios","authService","API_BASE_URL","process","env","REACT_APP_API_URL","usuariosService","list","_authService$getCurre","dominio","getCurrentClient","response","get","params","data","success","Error","message","usuarios","create","nome","email","senha","nivel","id_especialista","_authService$getCurre2","payload","nome_usuario","post","usuario","update","id","_authService$getCurre3","undefined","put","remove","_authService$getCurre4","delete"],"sources":["C:/Users/mduarte/Desktop/Projetos/Dualm_agd/site/src/services/usuariosService.js"],"sourcesContent":["import axios from 'axios';\r\nimport authService from './authService';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || '';\r\n\r\nconst usuariosService = {\r\n  async list() {\r\n    const dominio = authService.getCurrentClient()?.dominio;\r\n    const response = await axios.get(`${API_BASE_URL}/usuarios`, { params: { dominio } });\r\n    const data = response.data || {};\r\n    if (!data.success) throw new Error(data.message || 'Falha ao listar usuários');\r\n    return data.usuarios || [];\r\n  },\r\n  async create({ nome, email, senha, nivel, id_especialista }) {\r\n    const dominio = authService.getCurrentClient()?.dominio;\r\n    const payload = { dominio, nome_usuario: nome, email, senha, nivel };\r\n    if (id_especialista) payload.id_especialista = id_especialista;\r\n    const response = await axios.post(`${API_BASE_URL}/usuarios`, payload);\r\n    const data = response.data || {};\r\n    if (!data.success) throw new Error(data.message || 'Falha ao criar usuário');\r\n    return data.usuario;\r\n  },\r\n  async update(id, { nome, email, senha, nivel, id_especialista }) {\r\n    const dominio = authService.getCurrentClient()?.dominio;\r\n    const payload = { dominio, nome_usuario: nome, email, senha, nivel };\r\n    if (id_especialista !== undefined) payload.id_especialista = id_especialista;\r\n    const response = await axios.put(`${API_BASE_URL}/usuarios/${id}`, payload);\r\n    const data = response.data || {};\r\n    if (!data.success) throw new Error(data.message || 'Falha ao atualizar usuário');\r\n    return data.usuario;\r\n  },\r\n  async remove(id) {\r\n    const dominio = authService.getCurrentClient()?.dominio;\r\n    const response = await axios.delete(`${API_BASE_URL}/usuarios/${id}`, { params: { dominio } });\r\n    const data = response.data || {};\r\n    if (!data.success) throw new Error(data.message || 'Falha ao remover usuário');\r\n    return true;\r\n  }\r\n};\r\n\r\nexport default usuariosService;\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,eAAe;AAEvC,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,EAAE;AAExD,MAAMC,eAAe,GAAG;EACtB,MAAMC,IAAIA,CAAA,EAAG;IAAA,IAAAC,qBAAA;IACX,MAAMC,OAAO,IAAAD,qBAAA,GAAGP,WAAW,CAACS,gBAAgB,CAAC,CAAC,cAAAF,qBAAA,uBAA9BA,qBAAA,CAAgCC,OAAO;IACvD,MAAME,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAG,CAAC,GAAGV,YAAY,WAAW,EAAE;MAAEW,MAAM,EAAE;QAAEJ;MAAQ;IAAE,CAAC,CAAC;IACrF,MAAMK,IAAI,GAAGH,QAAQ,CAACG,IAAI,IAAI,CAAC,CAAC;IAChC,IAAI,CAACA,IAAI,CAACC,OAAO,EAAE,MAAM,IAAIC,KAAK,CAACF,IAAI,CAACG,OAAO,IAAI,0BAA0B,CAAC;IAC9E,OAAOH,IAAI,CAACI,QAAQ,IAAI,EAAE;EAC5B,CAAC;EACD,MAAMC,MAAMA,CAAC;IAAEC,IAAI;IAAEC,KAAK;IAAEC,KAAK;IAAEC,KAAK;IAAEC;EAAgB,CAAC,EAAE;IAAA,IAAAC,sBAAA;IAC3D,MAAMhB,OAAO,IAAAgB,sBAAA,GAAGxB,WAAW,CAACS,gBAAgB,CAAC,CAAC,cAAAe,sBAAA,uBAA9BA,sBAAA,CAAgChB,OAAO;IACvD,MAAMiB,OAAO,GAAG;MAAEjB,OAAO;MAAEkB,YAAY,EAAEP,IAAI;MAAEC,KAAK;MAAEC,KAAK;MAAEC;IAAM,CAAC;IACpE,IAAIC,eAAe,EAAEE,OAAO,CAACF,eAAe,GAAGA,eAAe;IAC9D,MAAMb,QAAQ,GAAG,MAAMX,KAAK,CAAC4B,IAAI,CAAC,GAAG1B,YAAY,WAAW,EAAEwB,OAAO,CAAC;IACtE,MAAMZ,IAAI,GAAGH,QAAQ,CAACG,IAAI,IAAI,CAAC,CAAC;IAChC,IAAI,CAACA,IAAI,CAACC,OAAO,EAAE,MAAM,IAAIC,KAAK,CAACF,IAAI,CAACG,OAAO,IAAI,wBAAwB,CAAC;IAC5E,OAAOH,IAAI,CAACe,OAAO;EACrB,CAAC;EACD,MAAMC,MAAMA,CAACC,EAAE,EAAE;IAAEX,IAAI;IAAEC,KAAK;IAAEC,KAAK;IAAEC,KAAK;IAAEC;EAAgB,CAAC,EAAE;IAAA,IAAAQ,sBAAA;IAC/D,MAAMvB,OAAO,IAAAuB,sBAAA,GAAG/B,WAAW,CAACS,gBAAgB,CAAC,CAAC,cAAAsB,sBAAA,uBAA9BA,sBAAA,CAAgCvB,OAAO;IACvD,MAAMiB,OAAO,GAAG;MAAEjB,OAAO;MAAEkB,YAAY,EAAEP,IAAI;MAAEC,KAAK;MAAEC,KAAK;MAAEC;IAAM,CAAC;IACpE,IAAIC,eAAe,KAAKS,SAAS,EAAEP,OAAO,CAACF,eAAe,GAAGA,eAAe;IAC5E,MAAMb,QAAQ,GAAG,MAAMX,KAAK,CAACkC,GAAG,CAAC,GAAGhC,YAAY,aAAa6B,EAAE,EAAE,EAAEL,OAAO,CAAC;IAC3E,MAAMZ,IAAI,GAAGH,QAAQ,CAACG,IAAI,IAAI,CAAC,CAAC;IAChC,IAAI,CAACA,IAAI,CAACC,OAAO,EAAE,MAAM,IAAIC,KAAK,CAACF,IAAI,CAACG,OAAO,IAAI,4BAA4B,CAAC;IAChF,OAAOH,IAAI,CAACe,OAAO;EACrB,CAAC;EACD,MAAMM,MAAMA,CAACJ,EAAE,EAAE;IAAA,IAAAK,sBAAA;IACf,MAAM3B,OAAO,IAAA2B,sBAAA,GAAGnC,WAAW,CAACS,gBAAgB,CAAC,CAAC,cAAA0B,sBAAA,uBAA9BA,sBAAA,CAAgC3B,OAAO;IACvD,MAAME,QAAQ,GAAG,MAAMX,KAAK,CAACqC,MAAM,CAAC,GAAGnC,YAAY,aAAa6B,EAAE,EAAE,EAAE;MAAElB,MAAM,EAAE;QAAEJ;MAAQ;IAAE,CAAC,CAAC;IAC9F,MAAMK,IAAI,GAAGH,QAAQ,CAACG,IAAI,IAAI,CAAC,CAAC;IAChC,IAAI,CAACA,IAAI,CAACC,OAAO,EAAE,MAAM,IAAIC,KAAK,CAACF,IAAI,CAACG,OAAO,IAAI,0BAA0B,CAAC;IAC9E,OAAO,IAAI;EACb;AACF,CAAC;AAED,eAAeX,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}